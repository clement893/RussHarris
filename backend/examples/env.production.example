# Production Environment Configuration
# Copy this file to .env and customize for your production setup
# ⚠️ IMPORTANT: Use strong secrets and secure all credentials!

# ============================================
# PROJECT CONFIGURATION
# ============================================
PROJECT_NAME=My App
ENVIRONMENT=production
DEBUG=False
VERSION=1.0.0

# ============================================
# DATABASE CONFIGURATION (Required)
# ============================================
# PostgreSQL connection string (use SSL in production)
# Format: postgresql+asyncpg://user:password@host:port/database?ssl=require
DATABASE_URL=postgresql+asyncpg://user:password@db.example.com:5432/mydb?ssl=require

# Database pool configuration (optimize for production)
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ============================================
# SECURITY CONFIGURATION (Required)
# ============================================
# ⚠️ CRITICAL: Generate a strong, random secret key (min 32 characters)
# Use: openssl rand -hex 32
# NEVER use default or weak keys in production!
SECRET_KEY=<generate-strong-random-secret-key-min-32-chars>

# JWT Configuration (shorter expiration for production)
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15   # Short-lived access tokens
REFRESH_TOKEN_EXPIRE_DAYS=30     # Longer refresh tokens

# ============================================
# CORS CONFIGURATION (Required)
# ============================================
# Frontend URL(s) - ONLY your production domains
# Format: comma-separated list
CORS_ORIGINS=https://app.example.com,https://www.example.com
FRONTEND_URL=https://app.example.com

# Base URL for OAuth callbacks
BASE_URL=https://api.example.com

# ============================================
# FEATURE FLAGS (Production)
# ============================================
# ⚠️ Keep security features enabled in production!
DISABLE_CSRF=false              # Keep CSRF enabled
DISABLE_RATE_LIMITING=false     # Keep rate limiting enabled
ENABLE_REQUEST_SIGNING=true     # Enable for enhanced security

# ============================================
# OAUTH CONFIGURATION (Optional)
# ============================================
# Google OAuth Production Credentials
GOOGLE_CLIENT_ID=your-production-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-production-google-client-secret

# ============================================
# PAYMENT PROCESSING (Required if using payments)
# ============================================
# Stripe Production Keys
STRIPE_SECRET_KEY=sk_live_your_stripe_live_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_production_webhook_secret

# ============================================
# EMAIL CONFIGURATION (Required if using email)
# ============================================
# SendGrid Production API Key
SENDGRID_API_KEY=SG.your-production-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@example.com

# ============================================
# FILE STORAGE (Required if using file storage)
# ============================================
# AWS S3 Production Configuration
AWS_ACCESS_KEY_ID=your-production-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-production-aws-secret-access-key
AWS_REGION=us-east-1
S3_BUCKET_NAME=your-production-bucket-name

# ============================================
# CACHING (Recommended for production)
# ============================================
# Redis Production URL (use SSL if available)
# Format: redis://:password@host:port/db or rediss://:password@host:port/db
REDIS_URL=rediss://:password@redis.example.com:6380/0

# ============================================
# AI PROVIDERS (Optional)
# ============================================
# OpenAI Production Key
OPENAI_API_KEY=sk-your-production-openai-api-key

# Anthropic Production Key
ANTHROPIC_API_KEY=sk-ant-your-production-anthropic-api-key

# ============================================
# MULTI-TENANCY (Optional)
# ============================================
# Tenancy mode: 'single', 'multi', 'hybrid'
TENANCY_MODE=single

# ============================================
# LOGGING (Production)
# ============================================
# Log level: INFO or WARNING for production (not DEBUG)
LOG_LEVEL=INFO

# ============================================
# SERVER CONFIGURATION
# ============================================
HOST=0.0.0.0
PORT=8000

# ============================================
# MONITORING (Optional)
# ============================================
# Sentry DSN (if using Sentry for error tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ============================================
# SECURITY CHECKLIST
# ============================================
# ✅ Strong SECRET_KEY (32+ random characters)
# ✅ HTTPS URLs only in CORS_ORIGINS
# ✅ Production database with SSL
# ✅ Production Stripe keys (not test keys)
# ✅ Strong passwords for all services
# ✅ CSRF and rate limiting enabled
# ✅ DEBUG=False
# ✅ ENVIRONMENT=production
# ✅ All secrets stored securely (not in code)
# ✅ Regular secret rotation

# ============================================
# DEPLOYMENT NOTES
# ============================================
# 1. Set all environment variables in your hosting platform
# 2. Use secrets management (Railway, AWS Secrets Manager, etc.)
# 3. Never commit .env files
# 4. Rotate secrets regularly
# 5. Monitor logs for security issues
# 6. Set up health checks
# 7. Configure backups for database
# 8. Set up monitoring and alerts

